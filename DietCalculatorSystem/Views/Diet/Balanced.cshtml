@model DietFormModel

<html>
<head>
	<title>Test Split Screen</title>

	<link rel="stylesheet" href="~/css/site.css" />
	<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
</head>
<body>
	<div class="row no-gutters">
		<div class="col-md-6 no-gutters">
			<div class="leftside justify-content-center align-items-md-center">
				<h3>Total</h3>
				<table>
					<tr>
						<th style="text-align: center">Calories</th>
						<th style="padding: 10px; text-align: center">Proteins</th>
						<th style="padding: 10px; text-align: center">Fats</th>
						<th style="padding: 10px; text-align: center">Carbohydrates</th>
					</tr>
					<tr>
						<td>@Model.TotalCalories</td>
						<td>@Model.TotalProteins</td>
						<td>@Model.TotalFats</td>
						<td>@Model.TotalCarbohydrates</td>
					</tr>
				</table>
			</div>
		</div>
		<div class="col-md-6 no-gutters">
			<div class="rightside justify-content-center align-items-md-center">
				<div>
					<form method="get">
						<div class="row" mb-5>
							<div class="form-group col-md-3">
								<label asp-for="SearchTerm"></label>
								<input asp-for="SearchTerm" class="form-control" placeholder="Enter food name...">
							</div>
							<div class="form-group col-md-4">
								<div class="form-group">
									<label asp-for="Sorting"></label>
									<select asp-for="Sorting" class="form-control">
										<option value="0" selected>Calories</option>
										<option value="1">Proteins</option>
										<option value="2">Fats</option>
										<option value="3">Carbohydrates</option>
									</select>
								</div>
							</div>
							<div class="form-group col-md-3">
								<input type="submit" class="btn btn-primary" value="Search">
							</div>
						</div>
					</form>

					<div>
						<table>
							<tr>
								<th>Picture</th>
								<th>Calories</th>
								<th>Proteins</th>
								<th>Fats</th>
								<th>Carbohydrates</th>
							</tr>
							@foreach (var food in Model.Foods)
							{
								<tr>
									<td style="height:25%; width:25%"><a><img src="@food.PictureUrl" class="card-img-bottom"></a></td>
									<td>@food.Calories</td>
									<td>@food.Proteins</td>
									<td>@food.Fats</td>
									<td>@food.Carbohydrates</td>
								</tr>
							}
						</table>
					</div>

					@{
						var previousPage = Model.CurrentPage - 1;
						if (previousPage < 1)
						{
							previousPage = 1;
						}

						var maxPage = Math.Ceiling((double)Model.TotalFoods / AllFoodsQueryModel.FoodsPerPage);
					}

					<div class="row mb-5">
						<div class="col-md-6">
							<a class="btn btn-primary @(Model.CurrentPage == 1 ? "disabled" : string.Empty)"
							   asp-controller="Diet"
							   asp-action="Balanced"
							   asp-route-currentPage="@previousPage"
							   asp-route-searchTerm="@Model.SearchTerm"
							   asp-route-sorting="@((int)Model.Sorting)"><<</a>
						</div>

						@{
							var shouldButtonBeDisabled = Model.CurrentPage == maxPage ||
			!Model.Foods.Any();
						}

						<div class="col-md-6">
							<a class="btn btn-primary float-sm-right @(shouldButtonBeDisabled ? "disabled" : string.Empty)" style="margin-top: 10px"
							   asp-controller="Diet"
							   asp-action="Balanced"
							   asp-route-currentPage="@(Model.CurrentPage + 1)"
							   asp-route-searchTerm="@Model.SearchTerm"
							   asp-route-sorting="@((int)Model.Sorting)">>></a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

</body>
</html>